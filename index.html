<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Muhammad Iqbal Fikri Robani Amin â€” Portofolio</title>
  <meta name="description" content="Portofolio Muhammad Iqbal Fikri Robani Amin â€” Data Analyst & Web Developer. Menampilkan proyek, skill, dan kontak." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’¼</text></svg>">

  <!-- Set tema paling awal -->
  <script>
    (() => {
      const stored = localStorage.getItem('theme');
      if (stored === 'dark' || (!stored && matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    })();
  </script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','ui-sans-serif','system-ui','Segoe UI','Roboto','Helvetica Neue','Arial'] },
          boxShadow: { soft: '0 10px 30px -12px rgba(0,0,0,.25)' }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet">
</head>
<body class="bg-white text-gray-800 dark:bg-gray-950 dark:text-gray-100 font-sans">
  <!-- Navbar -->
  <header class="sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-white/70 bg-white/90 dark:bg-gray-950/80 border-b border-gray-200/60 dark:border-gray-800">
    <nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex h-16 items-center justify-between">
      <a href="#" class="flex items-center gap-2 font-extrabold tracking-tight" data-reveal="fade-down">
        <span class="inline-block size-8 grid place-items-center rounded bg-blue-600 text-white">IQ</span>
        <span class="hidden sm:block">Muhammad Iqbal Fikri Robani Amin</span>
      </a>
      <div class="hidden md:flex items-center gap-6">
        <a href="#about" class="hover:text-blue-600 dark:hover:text-blue-400">Tentang</a>
        <a href="#education" class="hover:text-blue-600 dark:hover:text-blue-400">Pendidikan</a>
        <a href="#skills" class="hover:text-blue-600 dark:hover:text-blue-400">Keahlian</a>
        <a href="#projects" class="hover:text-blue-600 dark:hover:text-blue-400">Proyek</a>
        <a href="#contact" class="hover:text-blue-600 dark:hover:text-blue-400">Kontak</a>
        <a href="CV_Iqbal.pdf" download="CV_MuhammadIqbalFikri.pdf" type="application/pdf"
           class="inline-flex items-center gap-2 rounded-md bg-blue-600 px-3 py-2 text-white hover:bg-blue-700 transition"
           data-reveal="fade-left" data-delay="120">
          <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M12 3v12m0 0 4-4m-4 4-4-4M4 21h16"/>
          </svg>
          CV
        </a>
        <button id="themeToggle" class="rounded-md border border-gray-300 dark:border-gray-700 px-2 py-2 hover:bg-gray-100 dark:hover:bg-gray-800" aria-label="Toggle theme">
          <span id="themeIcon">ðŸŒ™</span>
        </button>
      </div>
      <button id="mobileBtn" class="md:hidden rounded-md border border-gray-300 dark:border-gray-700 p-2" aria-label="Buka menu">
        <svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 6h18M3 12h18M3 18h18"/></svg>
      </button>
    </nav>
    <!-- Progress tipis -->
    <div id="scrollProgress" class="h-0.5 w-0 bg-blue-600 transition-[width] duration-150" aria-hidden="true"></div>

    <!-- Mobile menu -->
    <div id="mobileMenu" class="md:hidden hidden border-t border-gray-200 dark:border-gray-800">
      <div class="mx-auto max-w-7xl px-4 py-3 flex flex-col gap-3" data-stagger="70">
        <a href="#about" class="py-2 hover:text-blue-600 dark:hover:text-blue-400" data-reveal>Tentang</a>
        <a href="#education" class="py-2 hover:text-blue-600 dark:hover:text-blue-400" data-reveal>Pendidikan</a>
        <a href="#skills" class="py-2 hover:text-blue-600 dark:hover:text-blue-400" data-reveal>Keahlian</a>
        <a href="#projects" class="py-2 hover:text-blue-600 dark:hover:text-blue-400" data-reveal>Proyek</a>
        <a href="#contact" class="py-2 hover:text-blue-600 dark:hover:text-blue-400" data-reveal>Kontak</a>
        <div class="flex items-center gap-2" data-reveal>
          <a href="CV_Iqbal.pdf" download class="inline-flex items-center gap-2 rounded-md bg-blue-600 px-3 py-2 text-white hover:bg-blue-700 transition">Unduh CV</a>
          <button id="themeToggleSm" class="rounded-md border border-gray-300 dark:border-gray-700 px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">Tema</button>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16 lg:py-24 grid lg:grid-cols-2 gap-10 items-center">
      <div class="space-y-6" data-reveal="fade-up">
        <span class="inline-flex items-center gap-2 rounded-full bg-blue-50 text-blue-700 dark:bg-blue-400/10 dark:text-blue-300 px-3 py-1 text-sm">
          <span class="size-2 bg-blue-600 rounded-full"></span> Tersedia untuk peluang kerja
        </span>
        <h1 class="text-3xl sm:text-5xl font-extrabold leading-tight">
          <span id="roleText">Data Analyst & Web Developer</span>
        </h1>
        <p class="text-lg text-gray-600 dark:text-gray-300">
          Saya menggabungkan analitik data (Python, SQL, Power BI) dan pengembangan web (HTML, CSS, JavaScript) untuk membangun solusi yang <em>insightful</em> dan mudah digunakan.
        </p>
        <div class="flex flex-wrap gap-3">
          <a href="#projects" class="inline-flex items-center gap-2 rounded-md bg-blue-600 px-5 py-3 text-white hover:bg-blue-700 transition shadow-soft">
            Lihat Proyek
            <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M5 12h14M13 5l7 7-7 7"/></svg>
          </a>
          <a href="#contact" class="inline-flex items-center gap-2 rounded-md border border-gray-300 dark:border-gray-700 px-5 py-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition">
            Hubungi Saya
          </a>
        </div>
        <div class="flex flex-wrap gap-2 text-sm" data-stagger="55">
          <span class="rounded bg-gray-100 dark:bg-gray-800 px-3 py-1" data-reveal>Python</span>
          <span class="rounded bg-gray-100 dark:bg-gray-800 px-3 py-1" data-reveal>SQL</span>
          <span class="rounded bg-gray-100 dark:bg-gray-800 px-3 py-1" data-reveal>Power BI</span>
          <span class="rounded bg-gray-100 dark:bg-gray-800 px-3 py-1" data-reveal>HTML</span>
          <span class="rounded bg-gray-100 dark:bg-gray-800 px-3 py-1" data-reveal>CSS</span>
          <span class="rounded bg-gray-100 dark:bg-gray-800 px-3 py-1" data-reveal>JavaScript</span>
        </div>
      </div>

      <!-- Foto: ganti src sesuai file Anda -->
      <div class="lg:justify-self-end" data-reveal="zoom">
        <figure class="relative aspect-square max-w-md mx-auto overflow-hidden rounded-2xl border border-gray-200 dark:border-gray-800 shadow-soft"
                data-tilt="4">
          <!-- Ganti ke foto Anda, mis. assets/iqbal.jpg -->
          <img src="IQBAL.jpg" loading="lazy" alt="Foto Muhammad Iqbal Fikri Robani Amin"
               class="size-full object-cover transition duration-[1200ms] ease-[cubic-bezier(.2,.7,.2,1)]">
          <figcaption class="absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/60 to-transparent p-4 text-white">
            <p class="text-sm opacity-90">Sidoarjo, Indonesia</p>
          </figcaption>
        </figure>
      </div>
    </div>

    <!-- Background parallax halus (opsional) -->
    <div class="absolute inset-x-0 -z-10 top-0 h-[260px] md:h-[340px] pointer-events-none">
      <img src="assets/hero-bg.jpg" alt="" loading="lazy"
           class="w-full h-full object-cover opacity-20 dark:opacity-30" data-parallax="0.06">
    </div>
  </section>

  <!-- Tentang -->
  <section id="about" class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12 lg:py-16">
    <h2 class="text-2xl sm:text-3xl font-bold mb-6" data-reveal>Tentang Saya</h2>
    <div class="grid lg:grid-cols-3 gap-8" data-stagger="70">
      <p class="lg:col-span-2 text-gray-700 dark:text-gray-300" data-reveal>
        Lulusan Informatika berfokus pada Data Analyst, Data Scientic dan Pengembangan Web, Terbiasa dengan <span class="font-medium">Python, SQL, Power BI</span>, dan antarmuka web yang bersih & responsif.
      </p>
      <div class="rounded-xl border border-gray-200 dark:border-gray-800 p-4" data-reveal data-tilt="3">
        <h3 class="font-semibold mb-2">Highlight</h3>
        <ul class="space-y-2 text-sm text-gray-700 dark:text-gray-300">
          <li>â€¢ Pengolahan Data & Data Analyst (Power BI + Python)</li>
          <li>â€¢ ETL sederhana & data cleaning (Pandas/SQL)</li>
          <li>â€¢ Web portofolio cepat & responsif (Tailwind)</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Riwayat Pendidikan (dikembalikan) -->
  <section id="education" class="bg-white dark:bg-gray-950 py-12 lg:py-16">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl sm:text-3xl font-bold mb-6" data-reveal>Riwayat Pendidikan</h2>
      <div class="space-y-6" data-stagger="70">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 border border-gray-200 dark:border-gray-800 rounded-lg" data-reveal data-tilt="3">
          <div>
            <h3 class="font-semibold text-lg">Universitas Pembangunan Nasional "Veteran" Jawa Timur</h3>
            <p class="text-gray-600 dark:text-gray-300">S1 - Informatika</p>
          </div>
          <span class="mt-2 sm:mt-0 text-gray-500 dark:text-gray-400">2021 - 2025</span>
        </div>

        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 border border-gray-200 dark:border-gray-800 rounded-lg" data-reveal data-tilt="3">
          <div>
            <h3 class="font-semibold text-lg">Bangkit Academy</h3>
            <p class="text-gray-600 dark:text-gray-300">Android Development</p>
          </div>
          <span class="mt-2 sm:mt-0 text-gray-500 dark:text-gray-400">Agustus 2023 - Desember 2023</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Keahlian -->
  <section id="skills" class="bg-gray-50 dark:bg-gray-900/40 py-12 lg:py-16">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl sm:text-3xl font-bold mb-6" data-reveal>Keahlian</h2>
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3" data-stagger="55">
        <span class="px-4 py-2 rounded-md bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-center" data-reveal>Python</span>
        <span class="px-4 py-2 rounded-md bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-center" data-reveal>Tableau</span>
        <span class="px-4 py-2 rounded-md bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-center" data-reveal>Power BI</span>
        <span class="px-4 py-2 rounded-md bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-center" data-reveal>SQL</span>
        <span class="px-4 py-2 rounded-md bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-center" data-reveal>HTML/CSS</span>
        <span class="px-4 py-2 rounded-md bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-center" data-reveal>JavaScript</span>
      </div>
    </div>
  </section>

  <!-- Proyek (ringkas) -->
  <section id="projects" class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12 lg:py-16">
    <div class="flex items-end justify-between mb-6">
      <h2 class="text-2xl sm:text-3xl font-bold" data-reveal>Proyek Pilihan</h2>
      <a href="https://github.com/IqbalFIkriRA" target="_blank" rel="noopener" class="text-blue-600 dark:text-blue-400 hover:underline" data-reveal="fade-left">GitHub â†—</a>
    </div>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" data-stagger="80">
      <article class="group rounded-xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 overflow-hidden hover:shadow-soft transition"
               data-reveal="zoom" data-tilt="4">
        <div class="aspect-video overflow-hidden">
          <img src="KudsMarket.jpg" loading="lazy" alt="KudsMarket"
               class="size-full object-cover group-hover:scale-[1.015] transition duration-500 ease-[cubic-bezier(.2,.7,.2,1)]">
        </div>
        <div class="p-4">
          <h3 class="font-semibold">Kuds Market </h3>
          <p class="mt-1 text-sm text-gray-600 dark:text-gray-300">Pembuatan Website Koperasi.</p>
          <div class="mt-3 flex items-center gap-3 text-sm">
            <a href="https://github.com/IqbalFikriRA/berniaga" target="_blank" rel="noopener" class="text-blue-600 dark:text-blue-400 hover:underline">GitHub</a>
            <span class="text-gray-400">â€¢</span>
            <span class="text-gray-500 dark:text-gray-400">Laravel, PHP & Vue js.</span>
          </div>
        </div>
      </article>

      <article class="group rounded-xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 overflow-hidden hover:shadow-soft transition"
               data-reveal="zoom" data-tilt="4">
        <div class="aspect-video overflow-hidden">
          <img src="pendaftaransiswa.jpg" loading="lazy" alt="Pendaftaran Siswa SMK"
               class="size-full object-cover group-hover:scale-[1.015] transition duration-500 ease-[cubic-bezier(.2,.7,.2,1)]">
        </div>
        <div class="p-4">
          <h3 class="font-semibold">Pendaftaran Siswa SMK</h3>
          <p class="mt-1 text-sm text-gray-600 dark:text-gray-300">Pendaftaran Siswa yang didukung oleh Pembayaran Pihak ke ketiga</p>
          <div class="mt-3 flex items-center gap-3 text-sm">
            <a href="https://github.com/IqbalFikriRA/pendaftaran-siswa-baru" target="_blank" rel="noopener" class="text-blue-600 dark:text-blue-400 hover:underline">Repo</a>
            <span class="text-gray-400">â€¢</span>
            <span class="text-gray-500 dark:text-gray-400">Laravel, PHP, Vue.js</span>
          </div>
        </div>
      </article>

      <article class="group rounded-xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 overflow-hidden hover:shadow-soft transition"
             data-reveal="zoom" data-tilt="4">

      <div class="aspect-video overflow-hidden">
        <img src="InventoryWeb.png" loading="lazy" alt="InventoryWeb"
             class="size-full object-cover group-hover:scale-[1.015] transition duration-500 ease-[cubic-bezier(.2,.7,.2,1)]">
      </div>

      <div class="p-4">
        <h3 class="font-semibold">InventoryWeb</h3>
        <p class="mt-1 text-sm text-gray-600 dark:text-gray-300">
          Web Inventory Untuk Merekap Stok, Barang Masuk, Serta Barang Keluar.
        </p>
        <div class="mt-3 flex items-center gap-3 text-sm">
          <a href="https://github.com/IqbalFikriRA/inventoryweb"
             target="_blank" rel="noopener"
             class="text-blue-600 dark:text-blue-400 hover:underline">Repo</a>
          <span class="text-gray-400">â€¢</span>
          <span class="text-gray-500 dark:text-gray-400">Laravel, PHP, Vite.js</span>
        </div>
      </div>
    </article>
    </div>
  </section>

  <!-- Kontak -->
  <section id="contact" class="bg-gray-50 dark:bg-gray-900/40 py-12 lg:py-16">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl sm:text-3xl font-bold mb-6" data-reveal>Kontak</h2>
      <div class="grid lg:grid-cols-3 gap-6">
        <div class="lg:col-span-2" data-reveal>
          <p class="text-gray-700 dark:text-gray-300">
            Tertarik berkolaborasi atau ada lowongan yang cocok? Silakan hubungi saya melalui kanal berikut:
          </p>
          <ul class="mt-4 space-y-2">
            <li>Email: <a href="mailto:iqbalfikri1001@gmail.com" class="text-blue-600 dark:text-blue-400 hover:underline">iqbalfikri1001@gmail.com</a></li>
            <li>GitHub: <a href="https://github.com/IqbalFIkriRA" target="_blank" rel="noopener" class="text-blue-600 dark:text-blue-400 hover:underline">github.com/IqbalFIkriRA</a></li>
            <li>LinkedIn: <a href="https://www.linkedin.com/in/muhammad-iqbal-fikri/" target="_blank" rel="noopener" class="text-blue-600 dark:text-blue-400 hover:underline">Muhammad Iqbal Fikri Robani Amin</a></li>
          </ul>
        </div>
        <div class="rounded-xl border border-gray-200 dark:border-gray-800 p-4" data-reveal data-tilt="3">
          <h3 class="font-semibold mb-2">Preferensi</h3>
          <p class="text-sm text-gray-700 dark:text-gray-300">Hybrid/Remote â€¢ Full-time / Project-based â€¢ WIB</p>
        </div>
      </div>
    </div>
  </section>

  <footer class="text-center py-8 text-sm text-gray-500">
    &copy; <span id="year"></span> Muhammad Iqbal Fikri Robani Amin. All rights reserved.
  </footer>

  <!-- Tombol Scroll to Top -->
  <button id="scrollUpBtn" data-showat="280"
    class="fixed bottom-6 right-6 z-50 rounded-full border bg-white dark:bg-gray-900 shadow-soft p-3
           opacity-0 pointer-events-none translate-y-2 transition">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
      <path d="M12 19V5m0 0-6 6m6-6 6 6"/>
    </svg>
  </button>

  <!-- Interaksi & Animasi halus -->
  <script>
  (() => {
    const reduce = matchMedia('(prefers-reduced-motion: reduce)').matches;

    // Tahun
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile menu
    const mobileBtn = document.getElementById('mobileBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    mobileBtn?.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

    // Tema
    function switchTheme() {
      const root = document.documentElement;
      const isDark = root.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      const icon = document.getElementById('themeIcon');
      if (icon) icon.textContent = isDark ? 'â˜€ï¸' : 'ðŸŒ™';
    }
    document.getElementById('themeToggle')?.addEventListener('click', switchTheme);
    document.getElementById('themeToggleSm')?.addEventListener('click', switchTheme);
    const themeIcon = document.getElementById('themeIcon');
    if (themeIcon) themeIcon.textContent = document.documentElement.classList.contains('dark') ? 'â˜€ï¸' : 'ðŸŒ™';

    // Smooth anchor scroll
    document.addEventListener('click', (e) => {
      const a = e.target.closest('a[href^="#"]');
      if (!a) return;
      const id = a.getAttribute('href');
      const target = id && id.length > 1 ? document.querySelector(id) : null;
      if (!target) return;
      e.preventDefault();
      target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      history.pushState(null, '', id);
    });

    // Reveal on scroll (halus & pasti terlihat)
    if (!reduce) {
      const revealEls = document.querySelectorAll('[data-reveal]');
      const easing = 'cubic-bezier(.2,.7,.2,1)';
      revealEls.forEach((el) => {
        const type = el.dataset.reveal || 'fade-up';
        const map = {
          'fade':      'translate3d(0,0,0) scale(1)',
          'fade-up':   'translate3d(0,8px,0) scale(1)',
          'fade-down': 'translate3d(0,-8px,0) scale(1)',
          'fade-left': 'translate3d(8px,0,0) scale(1)',
          'fade-right':'translate3d(-8px,0,0) scale(1)',
          'zoom':      'translate3d(0,0,0) scale(.985)',
        };
        el.style.opacity = '0';
        el.style.transform = map[type] || map['fade-up'];
        el.style.transition = `opacity .7s ease-out, transform .9s ${easing}`;
        el.style.willChange = 'opacity, transform';
      });

      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) return;
          const el = entry.target;
          const delay = parseInt(el.dataset.delay || '0', 10);
          setTimeout(() => {
            el.style.opacity = '1';
            el.style.transform = 'translate3d(0,0,0) scale(1)';
          }, delay);
          if (el.dataset.once !== 'false') obs.unobserve(el);
        });
      }, { threshold: 0.1, rootMargin: '0px 0px -5% 0px' });

      revealEls.forEach((el) => {
        const parent = el.closest('[data-stagger]');
        if (parent && !el.dataset.delay) {
          const children = [...parent.querySelectorAll('[data-reveal]')];
          const idx = children.indexOf(el);
          const step = parseInt(parent.dataset.stagger || '70', 10);
          el.dataset.delay = String(idx * step);
        }
        io.observe(el);
      });
    }

    // Progress scroll
    const progressEl = document.getElementById('scrollProgress');
    function setScrollProgress() {
      if (!progressEl) return;
      const y = window.scrollY || document.documentElement.scrollTop;
      const h = document.documentElement.scrollHeight - window.innerHeight;
      const p = h > 0 ? (y / h) * 100 : 0;
      progressEl.style.width = p + '%';
    }
    addEventListener('scroll', setScrollProgress, { passive: true });
    addEventListener('load', setScrollProgress);

    // Typewriter lembut
    const roleEl = document.getElementById('roleText');
    if (roleEl && !reduce) {
      const roles = ['Data Analyst','Web Developer','Power BI Enthusiast','SQL & Python Practitioner'];
      let idx = 0, char = 0, typing = true;
      function tick() {
        const text = roles[idx];
        roleEl.textContent = typing ? text.slice(0, char + 1) : text.slice(0, char);
        if (typing) {
          char++;
          if (char === text.length) { typing = false; return setTimeout(tick, 1300); }
        } else {
          char--;
          if (char === 0) { typing = true; idx = (idx + 1) % roles.length; }
        }
        setTimeout(tick, typing ? 65 : 40);
      }
      tick();
    }

    // Parallax scroll (sangat halus)
    if (!reduce) {
      const scrollers = document.querySelectorAll('[data-parallax]');
      const onScroll = () => {
        const y = window.scrollY;
        scrollers.forEach((el) => {
          const strength = parseFloat(el.dataset.parallax || '0.06');
          const translate = Math.round(y * strength);
          el.style.transform = `translate3d(0, ${translate}px, 0)`;
          el.style.willChange = 'transform';
        });
      };
      addEventListener('scroll', onScroll, { passive: true });
      onScroll();
    }

    // Tilt interaktif (desktop saja, halus)
    if (!reduce && matchMedia('(pointer: fine)').matches) {
      const tiltNodes = document.querySelectorAll('[data-tilt]');
      tiltNodes.forEach((card) => {
        let rAF = null;
        const maxTilt = parseFloat(card.dataset.tilt || '4');
        const reset = () => {
          card.style.transform = 'perspective(900px) rotateX(0deg) rotateY(0deg) scale(1)';
          card.style.transition = 'transform .22s ease-out';
        };
        const onMove = (e) => {
          if (rAF) cancelAnimationFrame(rAF);
          rAF = requestAnimationFrame(() => {
            const rect = card.getBoundingClientRect();
            const cx = rect.left + rect.width / 2;
            const cy = rect.top + rect.height / 2;
            const dx = (e.clientX - cx) / (rect.width / 2);
            const dy = (e.clientY - cy) / (rect.height / 2);
            const rx = (-dy * maxTilt).toFixed(2);
            const ry = (dx * maxTilt).toFixed(2);
            card.style.transition = 'transform .08s linear';
            card.style.transform = `perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg) scale(1.01)`;
            card.style.willChange = 'transform';
          });
        };
        card.addEventListener('mousemove', onMove);
        card.addEventListener('mouseleave', reset);
        card.addEventListener('mouseenter', () => { card.style.transition = 'transform .14s ease-out'; });
        reset();
      });
    }

    // Scroll to top
    const upBtn = document.getElementById('scrollUpBtn');
    if (upBtn) {
      const showAt = parseInt(upBtn.dataset.showat || '280', 10);
      const onScroll2 = () => {
        const y = window.scrollY || document.documentElement.scrollTop;
        if (y > showAt) {
          upBtn.classList.remove('opacity-0','pointer-events-none','translate-y-2');
          upBtn.classList.add('opacity-100','translate-y-0');
        } else {
          upBtn.classList.add('opacity-0','pointer-events-none','translate-y-2');
          upBtn.classList.remove('opacity-100','translate-y-0');
        }
      };
      upBtn.addEventListener('click', () => scrollTo({ top: 0, behavior: 'smooth' }));
      addEventListener('scroll', onScroll2, { passive: true });
      addEventListener('load', onScroll2);
    }
  })();
  </script>
</body>
</html>
